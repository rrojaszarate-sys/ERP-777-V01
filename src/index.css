@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties para Temas Dinámicos */
:root {
  /* Paleta actual (mint por defecto) */
  --theme-primary: #74F1C8;
  --theme-primary-50: #f0fdf9;
  --theme-primary-100: #ccfbef;
  --theme-primary-200: #99f6e0;
  --theme-primary-300: #5eead4;
  --theme-primary-400: #2dd4bf;
  --theme-primary-500: #74F1C8;
  --theme-primary-600: #0d9488;
  --theme-primary-700: #0f766e;
  --theme-primary-800: #115e59;
  --theme-primary-900: #134e4a;
  
  --theme-secondary: #0d9488;
  --theme-accent: #5eead4;
  
  /* Colores de fondo */
  --theme-bg-primary: #FFFFFF;
  --theme-bg-secondary: #F8FAFC;
  --theme-bg-tertiary: #F1F5F9;
  --theme-bg-card: #FFFFFF;
  
  /* Colores de texto */
  --theme-text-primary: #1E293B;
  --theme-text-secondary: #64748B;
  --theme-text-tertiary: #94A3B8;
  --theme-text-accent: var(--theme-primary-600);
  
  /* Colores de iconos - ajustables por paleta */
  --theme-icon-primary: var(--theme-primary-600);
  --theme-icon-secondary: #64748B;
  --theme-icon-tertiary: #94A3B8;
  --theme-icon-interactive: var(--theme-primary-500);
  --theme-icon-hover: var(--theme-primary-700);
  
  /* Colores de bordes */
  --theme-border-primary: #E2E8F0;
  --theme-border-secondary: #CBD5E1;
  --theme-border-accent: var(--theme-primary-300);
  
  /* Colores interactivos */
  --theme-hover-bg: var(--theme-primary-50);
  --theme-hover-text: var(--theme-primary-700);
  --theme-active-bg: var(--theme-primary-100);
  --theme-active-text: var(--theme-primary-800);
  
  /* Estados */
  --theme-success: #10B981;
  --theme-warning: #F59E0B;
  --theme-error: #EF4444;
  --theme-info: #3B82F6;
  
  /* Estados con contraste mejorado */
  --theme-success-bg: #DCFCE7;
  --theme-success-text: #166534;
  --theme-warning-bg: #FEF3C7;
  --theme-warning-text: #92400E;
  --theme-error-bg: #FEE2E2;
  --theme-error-text: #991B1B;
  --theme-info-bg: #DBEAFE;
  --theme-info-text: #1E40AF;
}

/* Modo oscuro */
[data-theme="dark"] {
  /* Fondos oscuros */
  --theme-bg-primary: #0F172A;
  --theme-bg-secondary: #1E293B;
  --theme-bg-tertiary: #334155;
  --theme-bg-card: #1E293B;
  
  /* Textos con mejor contraste */
  --theme-text-primary: #F8FAFC;
  --theme-text-secondary: #CBD5E1;
  --theme-text-tertiary: #94A3B8;
  --theme-text-accent: var(--theme-primary-400);
  
  /* Iconos adaptados para modo oscuro */
  --theme-icon-primary: var(--theme-primary-400);
  --theme-icon-secondary: #CBD5E1;
  --theme-icon-tertiary: #94A3B8;
  --theme-icon-interactive: var(--theme-primary-300);
  --theme-icon-hover: var(--theme-primary-200);
  
  /* Bordes oscuros */
  --theme-border-primary: #475569;
  --theme-border-secondary: #64748B;
  --theme-border-accent: var(--theme-primary-500);
  
  /* Interacciones en modo oscuro */
  --theme-hover-bg: rgba(116, 241, 200, 0.1);
  --theme-hover-text: var(--theme-primary-300);
  --theme-active-bg: rgba(116, 241, 200, 0.2);
  --theme-active-text: var(--theme-primary-200);
  
  /* Estados en modo oscuro */
  --theme-success-bg: rgba(16, 185, 129, 0.2);
  --theme-success-text: #34D399;
  --theme-warning-bg: rgba(245, 158, 11, 0.2);
  --theme-warning-text: #FBBF24;
  --theme-error-bg: rgba(239, 68, 68, 0.2);
  --theme-error-text: #F87171;
  --theme-info-bg: rgba(59, 130, 246, 0.2);
  --theme-info-text: #60A5FA;
}

/* Clases para modo oscuro/claro que se aplican automáticamente */
body {
  background-color: var(--theme-bg-primary);
  color: var(--theme-text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Overrides para elementos principales en modo oscuro */
[data-theme="dark"] .bg-white {
  background-color: var(--theme-bg-secondary) !important;
}

[data-theme="dark"] .bg-gray-50 {
  background-color: #1E293B !important;
}

[data-theme="dark"] .bg-gray-100 {
  background-color: #334155 !important;
}

[data-theme="dark"] .text-gray-900 {
  color: var(--theme-text-primary) !important;
}

[data-theme="dark"] .text-gray-700 {
  color: var(--theme-text-secondary) !important;
}

[data-theme="dark"] .text-gray-600 {
  color: #94A3B8 !important;
}

[data-theme="dark"] .text-gray-500 {
  color: #64748B !important;
}

[data-theme="dark"] .border-gray-200 {
  border-color: #475569 !important;
}

[data-theme="dark"] .border-gray-300 {
  border-color: #64748B !important;
}

[data-theme="dark"] .hover\:bg-gray-50:hover {
  background-color: #334155 !important;
}

[data-theme="dark"] .hover\:bg-gray-100:hover {
  background-color: #475569 !important;
}

/* Elementos específicos que necesitan modo oscuro */
[data-theme="dark"] header {
  background-color: var(--theme-bg-secondary) !important;
  border-color: #475569 !important;
}

[data-theme="dark"] .shadow-sm {
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2) !important;
}

[data-theme="dark"] .border-b {
  border-color: #475569 !important;
}

/* Sidebar en modo oscuro */
[data-theme="dark"] nav {
  background-color: var(--theme-bg-secondary) !important;
}

/* Cards y contenedores */
[data-theme="dark"] .rounded-lg {
  background-color: var(--theme-bg-secondary);
}

/* Inputs y forms */
[data-theme="dark"] input {
  background-color: var(--theme-bg-secondary) !important;
  border-color: #475569 !important;
  color: var(--theme-text-primary) !important;
}

[data-theme="dark"] select {
  background-color: var(--theme-bg-secondary) !important;
  border-color: #475569 !important;
  color: var(--theme-text-primary) !important;
}

[data-theme="dark"] textarea {
  background-color: var(--theme-bg-secondary) !important;
  border-color: #475569 !important;
  color: var(--theme-text-primary) !important;
}

/* Botones en modo oscuro */
[data-theme="dark"] .bg-blue-500 {
  background-color: var(--theme-primary-600) !important;
}

[data-theme="dark"] .hover\:bg-blue-600:hover {
  background-color: var(--theme-primary-700) !important;
}

/* Tailwind Dark Mode Classes Override */
.dark body {
  background-color: var(--theme-bg-primary) !important;
  color: var(--theme-text-primary) !important;
}

.dark .bg-white {
  background-color: var(--theme-bg-secondary) !important;
}

.dark .bg-gray-50 {
  background-color: #1E293B !important;
}

.dark .bg-gray-100 {
  background-color: #334155 !important;
}

.dark .text-gray-900 {
  color: var(--theme-text-primary) !important;
}

.dark .text-gray-700 {
  color: var(--theme-text-secondary) !important;
}

.dark .text-gray-600 {
  color: #94A3B8 !important;
}

.dark .text-gray-500 {
  color: #64748B !important;
}

.dark .border-gray-200 {
  border-color: #475569 !important;
}

.dark .border-gray-300 {
  border-color: #64748B !important;
}

/* Clases utilitarias para usar los temas */
.theme-bg-primary { background-color: var(--theme-bg-primary); }
.theme-bg-secondary { background-color: var(--theme-bg-secondary); }
.theme-bg-tertiary { background-color: var(--theme-bg-tertiary); }
.theme-bg-card { background-color: var(--theme-bg-card); }

.theme-text-primary { color: var(--theme-text-primary); }
.theme-text-secondary { color: var(--theme-text-secondary); }
.theme-text-tertiary { color: var(--theme-text-tertiary); }
.theme-text-accent { color: var(--theme-text-accent); }

.theme-icon-primary { color: var(--theme-icon-primary); }
.theme-icon-secondary { color: var(--theme-icon-secondary); }
.theme-icon-tertiary { color: var(--theme-icon-tertiary); }
.theme-icon-interactive { color: var(--theme-icon-interactive); }

.theme-border-primary { border-color: var(--theme-border-primary); }
.theme-border-secondary { border-color: var(--theme-border-secondary); }
.theme-border-accent { border-color: var(--theme-border-accent); }

.theme-primary { background-color: var(--theme-primary); }
.theme-primary-soft { background-color: var(--theme-primary-50); }

/* Estados interactivos */
.theme-hover:hover { 
  background-color: var(--theme-hover-bg);
  color: var(--theme-hover-text);
}

.theme-button-primary {
  background-color: var(--theme-primary);
  color: white;
}

.theme-button-secondary {
  background-color: var(--theme-bg-secondary);
  color: var(--theme-text-primary);
  border: 1px solid var(--theme-border-primary);
}

.theme-success { 
  background-color: var(--theme-success-bg); 
  color: var(--theme-success-text); 
}

.theme-warning { 
  background-color: var(--theme-warning-bg); 
  color: var(--theme-warning-text); 
}

.theme-error { 
  background-color: var(--theme-error-bg); 
  color: var(--theme-error-text); 
}

.theme-info { 
  background-color: var(--theme-info-bg); 
  color: var(--theme-info-text); 
}

/* Overrides dinámicos para colores mint hardcodeados */
.bg-mint-50 { background-color: var(--theme-primary-50) !important; }
.bg-mint-100 { background-color: var(--theme-primary-100) !important; }
.bg-mint-500 { background-color: var(--theme-primary-500) !important; }
.bg-mint-600 { background-color: var(--theme-primary-600) !important; }
.bg-mint-700 { background-color: var(--theme-primary-700) !important; }

.text-mint-500 { color: var(--theme-primary-500) !important; }
.text-mint-600 { color: var(--theme-primary-600) !important; }
.text-mint-700 { color: var(--theme-primary-700) !important; }
.text-mint-800 { color: var(--theme-primary-800) !important; }

.border-mint-200 { border-color: var(--theme-primary-200) !important; }
.border-mint-400 { border-color: var(--theme-primary-400) !important; }
.border-mint-500 { border-color: var(--theme-primary-500) !important; }

.hover\:bg-mint-50:hover { background-color: var(--theme-primary-50) !important; }
.hover\:bg-mint-600:hover { background-color: var(--theme-primary-600) !important; }
.hover\:bg-mint-700:hover { background-color: var(--theme-primary-700) !important; }

.hover\:text-mint-600:hover { color: var(--theme-primary-600) !important; }
.hover\:border-mint-400:hover { border-color: var(--theme-primary-400) !important; }

.focus\:ring-mint-500:focus { 
  --tw-ring-color: var(--theme-primary-500) !important; 
  box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;
}
.focus\:border-mint-500:focus { border-color: var(--theme-primary-500) !important; }

/* Overrides para colores hardcodeados que no respetan la paleta */

/* Iconos y elementos grises que deberían usar colores del tema */
.text-gray-600 { color: var(--theme-icon-secondary) !important; }
.text-gray-700 { color: var(--theme-text-primary) !important; }
.text-gray-500 { color: var(--theme-text-secondary) !important; }
.text-gray-400 { color: var(--theme-text-tertiary) !important; }

/* Iconos interactivos que deberían cambiar con la paleta */
.hover\:text-gray-900:hover { color: var(--theme-hover-text) !important; }
.hover\:text-gray-600:hover { color: var(--theme-icon-hover) !important; }

/* Colores de estado específicos - mantener solo para casos críticos */
.text-red-700 { color: var(--theme-error-text) !important; }
.text-yellow-600 { color: var(--theme-warning-text) !important; }
.text-blue-600 { color: var(--theme-info-text) !important; }
.text-green-800 { color: var(--theme-success-text) !important; }

.bg-red-50 { background-color: var(--theme-error-bg) !important; }
.bg-yellow-100 { background-color: var(--theme-warning-bg) !important; }
.bg-blue-100 { background-color: var(--theme-info-bg) !important; }
.bg-green-100 { background-color: var(--theme-success-bg) !important; }

/* Fondos que deberían adaptarse */
.bg-gray-50 { background-color: var(--theme-bg-secondary) !important; }
.bg-gray-100 { background-color: var(--theme-bg-tertiary) !important; }
.hover\:bg-gray-50:hover { background-color: var(--theme-hover-bg) !important; }
.hover\:bg-gray-100:hover { background-color: var(--theme-active-bg) !important; }

/* Bordes adaptativos */
.border-gray-200 { border-color: var(--theme-border-primary) !important; }
.border-gray-300 { border-color: var(--theme-border-secondary) !important; }
.hover\:border-gray-300:hover { border-color: var(--theme-border-accent) !important; }

/* Soporte para transiciones suaves al cambiar tema */
* {
  transition-property: background-color, border-color, color;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Overrides específicos para elementos interactivos */
.theme-button-primary {
  background-color: var(--theme-primary);
  color: white;
}

.theme-button-primary:hover {
  filter: brightness(0.9);
}

.theme-input-focus:focus {
  border-color: var(--theme-primary);
  box-shadow: 0 0 0 3px rgba(116, 241, 200, 0.1);
}

/* Feature flag para deshabilitar transiciones si es necesario */
.no-theme-transitions * {
  transition: none !important;
}
